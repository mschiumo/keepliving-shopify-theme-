{% comment %}
  Login template
{% endcomment %}

<div class="customer login">
  <h1 class="login__title" id="login">{{ 'customer.login.title' | t }}</h1>

  <div class="login__form-wrapper">
    {% form 'customer_login' %}
      {{ form.errors | default_errors }}

      <div class="login__field">
        <label for="CustomerEmail" class="login__label">
          {{ 'customer.login.email' | t }}
        </label>
        <input type="email"
               name="customer[email]"
               id="CustomerEmail"
               class="login__input"
               autocomplete="email"
               autocorrect="off"
               autocapitalize="off"
               {% if form.errors contains 'form' %}
                 aria-invalid="true"
               {% endif %}
               placeholder="{{ 'customer.login.email' | t }}">
      </div>

      {% if form.password_needed %}
        <div class="login__field">
          <label for="CustomerPassword" class="login__label">
            {{ 'customer.login.password' | t }}
          </label>
          <input type="password"
                 name="customer[password]"
                 id="CustomerPassword"
                 class="login__input"
                 autocomplete="current-password"
                 {% if form.errors contains 'form' %}
                   aria-invalid="true"
                 {% endif %}
                 placeholder="{{ 'customer.login.password' | t }}">
        </div>
      {% endif %}

      <button type="submit" class="login__submit button button--primary">
        {{ 'customer.login.sign_in' | t }}
      </button>

      <a href="#recover" class="login__recover-link">
        {{ 'customer.login.forgot_password' | t }}
      </a>
    {% endform %}
  </div>

  <div class="login__recover-wrapper" id="recover">
    <h2>{{ 'customer.recover_password.title' | t }}</h2>
    <p>{{ 'customer.recover_password.subtext' | t }}</p>

    {% form 'recover_customer_password' %}
      {{ form.errors | default_errors }}

      {% if form.posted_successfully? %}
        <span class="login__success" tabindex="-1" autofocus>
          {{ 'customer.recover_password.success' | t }}
        </span>
      {% endif %}

      <div class="login__field">
        <label for="RecoverEmail" class="login__label">
          {{ 'customer.login.email' | t }}
        </label>
        <input type="email"
               name="email"
               id="RecoverEmail"
               class="login__input"
               autocomplete="email"
               autocorrect="off"
               autocapitalize="off"
               {% if form.errors %}
                 aria-invalid="true"
                 aria-describedby="RecoverEmail-email-error"
               {% endif %}
               placeholder="{{ 'customer.login.email' | t }}">
      </div>

      <button type="submit" class="login__submit button button--primary">
        {{ 'customer.recover_password.submit' | t }}
      </button>

      <a href="#login" class="login__cancel-link">
        {{ 'customer.recover_password.cancel' | t }}
      </a>
    {% endform %}
  </div>

  {% if shop.checkout.guest_login %}
    <div class="login__guest">
      <hr>
      <h2>{{ 'customer.login.guest_title' | t }}</h2>

      {% form 'guest_login' %}
        <button type="submit" class="button button--secondary">
          {{ 'customer.login.guest_continue' | t }}
        </button>
      {% endform %}
    </div>
  {% endif %}

  <p class="login__register">
    {{ 'customer.login.new_customer' | t }}
    <a href="{{ routes.account_register_url }}" class="login__register-link">
      {{ 'customer.login.create_account' | t }}
    </a>
  </p>
</div>
